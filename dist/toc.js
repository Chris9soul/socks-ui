"use strict";(function(){var k;if(window.gsap===void 0){console.error("Socks UI: Couldn't find GSAP. Please make sure to include GSAP in your project before using Socks UI");return}const U='s-toc="list"',h='s-toc="content"',m='s-toc="text"',O="s-active",q="s-toc-selector",E="s-toc-offset",I="s-toc-active";let s="h2",p="h3";const e=document.querySelector(`[${U}]`);if(!e){console.error("Socks UI: Couldn't find any list with the attribute [s-toc='list']");return}if(e.tagName!=="UL"&&e.tagName!=="OL"){console.error("Socks UI: The Table of Contents should be a List element");return}const a=e.closest("nav");if(!a){console.error("Socks UI: The Table of Contents should be inside a Nav landmark");return}a.getAttribute("aria-label")===null&&a.getAttribute("aria-labelledby")===null&&a.setAttribute("aria-label","Table of Contents");const o=((k=e.getAttribute(q))==null?void 0:k.split(","))||[];if((o==null?void 0:o.length)>0&&(s=o[0],o.length>1&&(p=o[1]),o.length>2)){console.error("Socks UI: Invalid custom selectors. Please provide up to 2 comma-separated heading tags");return}const n=e.querySelector("li");if(!n){console.error("Socks UI: Couldn't find a list item template");return}if(n.querySelector(`[${m}]`)===null){console.error("Socks UI: Couldn't find any text node with the attribute [s-toc='text']");return}const y=n.querySelector("li")||null,C=document.querySelector(`[${h}]`);if(!C){console.error("Socks UI: Couldn't find any content with the attribute [s-toc='content']");return}const u=e.getAttribute(E)||"80px",$=document.createElement("style");$.textContent=`
  [${h}] ${s}::before, [${h}] ${p}::before { 
    content: '';
    display: block; 
    position: relative; 
    width: 0; 
    height: ${u}; 
    margin-top: -${u};
  } 
  `,document.head.appendChild($);const T=e.getAttribute(I)||O,L=y?`${s}, ${p}`:s,g=C.querySelectorAll(L);let S=[];g.forEach((t,d)=>{const l=t.tagName===s.toUpperCase()?1:2;let c=y||n;l===1&&(c=n);const i=t.textContent;if(!i)return;t.id.trim().replace(/\s/g,"-").toLowerCase().replace(/[^a-z0-9-]/g,"");const r=c.cloneNode(!0),v=r.querySelector(`[${m}]`);if(!v)return;v.textContent=i;const b=r.querySelector("a");if(b){if(b.href=`#${t.id}`,l===1)S.push(r),e.appendChild(r);else{const f=S[S.length-1];if(!f)return;const A=f.querySelector("ul");if(!A)return;A.appendChild(r)}ScrollTrigger.create({trigger:t,start:`top-=${u} 35%`,endTrigger:g[d+1]??C,end:g[d+1]?`top-=${u} 35%`:"bottom 50%",onToggle:({isActive:f})=>{f&&x(b,l)}})}});function x(t,d){var l,c,i;e==null||e.querySelectorAll("a").forEach(r=>r.classList.remove(T)),t.classList.add(T),d!==1&&((i=(c=(l=t.closest("ul"))==null?void 0:l.parentNode)==null?void 0:c.querySelector("a"))==null||i.classList.add(T))}n.remove(),e.querySelectorAll("li ul li:first-child").forEach(t=>{t.remove()})})();
