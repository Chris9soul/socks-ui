"use strict";(function(){var A;if(window.gsap===void 0){console.error("Socks UI: Couldn't find GSAP. Please make sure to include GSAP in your project before using Socks UI");return}const U='s-toc="list"',T='s-toc="content"',m='s-toc="text"',q="s-active",E="s-toc-selector",I="s-toc-offset",L="s-toc-start",x="s-toc-active";let c="h2",C="h3";const e=document.querySelector(`[${U}]`);if(!e){console.error("Socks UI: Couldn't find any list with the attribute [s-toc='list']");return}if(e.tagName!=="UL"&&e.tagName!=="OL"){console.error("Socks UI: The Table of Contents should be a List element");return}const a=e.closest("nav");if(!a){console.error("Socks UI: The Table of Contents should be inside a Nav landmark");return}a.getAttribute("aria-label")===null&&a.getAttribute("aria-labelledby")===null&&a.setAttribute("aria-label","Table of Contents");const o=((A=e.getAttribute(E))==null?void 0:A.split(","))||[];if((o==null?void 0:o.length)>0&&(c=o[0],o.length>1&&(C=o[1]),o.length>2)){console.error("Socks UI: Invalid custom selectors. Please provide up to 2 comma-separated heading tags");return}const n=e.querySelector("li");if(!n){console.error("Socks UI: Couldn't find a list item template");return}if(n.querySelector(`[${m}]`)===null){console.error("Socks UI: Couldn't find any text node with the attribute [s-toc='text']");return}const y=n.querySelector("li")||null,g=document.querySelector(`[${T}]`);if(!g){console.error("Socks UI: Couldn't find any content with the attribute [s-toc='content']");return}const u=e.getAttribute(I)||"80px",$=document.createElement("style");$.textContent=`
  [${T}] ${c}::before, [${T}] ${C}::before { 
    content: '';
    display: block; 
    position: relative; 
    width: 0; 
    height: ${u}; 
    margin-top: -${u};
  } 
  `,document.head.appendChild($);const h=e.getAttribute(x)||q,N=y?`${c}, ${C}`:c,p=g.querySelectorAll(N);let S=[];p.forEach((t,d)=>{const s=t.tagName===c.toUpperCase()?1:2;let i=y||n;s===1&&(i=n);const l=t.textContent;if(!l)return;t.id="s-"+l.trim().replace(/\s/g,"-").toLowerCase().replace(/[^a-z0-9-]/g,"");const r=i.cloneNode(!0),k=r.querySelector(`[${m}]`);if(!k)return;k.textContent=l;const b=r.querySelector("a");if(!b)return;if(b.href=`#${t.id}`,s===1)S.push(r),e.appendChild(r);else{const f=S[S.length-1];if(!f)return;const O=f.querySelector("ul");if(!O)return;O.appendChild(r)}const v=e.getAttribute(L)||"35%";ScrollTrigger.create({trigger:t,start:`top-=${u} ${v}`,endTrigger:p[d+1]??g,end:p[d+1]?`top-=${u} ${v}`:"bottom 50%",onToggle:({isActive:f})=>{f&&_(b,s)}})});function _(t,d){var s,i,l;e==null||e.querySelectorAll("a").forEach(r=>r.classList.remove(h)),t.classList.add(h),d!==1&&((l=(i=(s=t.closest("ul"))==null?void 0:s.parentNode)==null?void 0:i.querySelector("a"))==null||l.classList.add(h))}n.remove(),e.querySelectorAll("li ul li:first-child").forEach(t=>{t.remove()})})();
