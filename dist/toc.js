"use strict";(function(){var v;if(window.gsap===void 0){console.error("Socks UI: Couldn't find GSAP. Please make sure to include GSAP in your project before using Socks UI");return}const O='s-toc="list"',f='s-toc="content"',b='s-toc="text"',$="s-active",q="s-toc-selector",E="s-toc-offset",I="s-toc-active";let c="h2",h="h3";const e=document.querySelector(`[${O}]`);if(!e){console.error("Socks UI: Couldn't find any list with the attribute [s-toc='list']");return}if(e.tagName!=="UL"&&e.tagName!=="OL"){console.error("Socks UI: The Table of Contents should be a List element");return}const a=e.closest("nav");if(!a){console.error("Socks UI: The Table of Contents should be inside a Nav landmark");return}a.getAttribute("aria-label")===null&&a.getAttribute("aria-labelledby")===null&&a.setAttribute("aria-label","Table of Contents");const o=((v=e.getAttribute(q))==null?void 0:v.split(","))||[];if((o==null?void 0:o.length)>0&&(c=o[0],o.length>1&&(h=o[1]),o.length>2)){console.error("Socks UI: Invalid custom selectors. Please provide up to 2 comma-separated heading tags");return}const n=e.querySelector("li");if(!n){console.error("Socks UI: Couldn't find a list item template");return}if(n.querySelector(`[${b}]`)===null){console.error("Socks UI: Couldn't find any text node with the attribute [s-toc='text']");return}const m=n.querySelector("li")||null,p=document.querySelector(`[${f}]`);if(!p){console.error("Socks UI: Couldn't find any content with the attribute [s-toc='content']");return}const y=e.getAttribute(E)||"80px",k=document.createElement("style");k.textContent=`
  [${f}] ${c}::before, [${f}] ${h}::before { 
    content: '';
    display: block; 
    position: relative; 
    width: 0; 
    height: ${y}; 
    margin-top: -${y};
  } 
  `,document.head.appendChild(k);const C=e.getAttribute(I)||$,L=m?`${c}, ${h}`:c,T=p.querySelectorAll(L);let g=[];T.forEach((t,u)=>{const l=t.tagName===c.toUpperCase()?1:2;let i=m||n;l===1&&(i=n);const s=t.textContent;if(!s)return;t.id="s-"+s.replace(/\s/g,"-").toLowerCase().replace(/[^a-z0-9-]/g,"");const r=i.cloneNode(!0),A=r.querySelector(`[${b}]`);if(!A)return;A.textContent=s;const S=r.querySelector("a");if(S){if(S.href=`#${t.id}`,l===1)g.push(r),e.appendChild(r);else{const d=g[g.length-1];if(!d)return;const U=d.querySelector("ul");if(!U)return;U.appendChild(r)}ScrollTrigger.create({trigger:t,start:"top 35%",endTrigger:T[u+1]??p,end:T[u+1]?"top 35%":"bottom 50%",onToggle:({isActive:d})=>{d&&x(S,l)}})}});function x(t,u){var l,i,s;e==null||e.querySelectorAll("a").forEach(r=>r.classList.remove(C)),t.classList.add(C),u!==1&&((s=(i=(l=t.closest("ul"))==null?void 0:l.parentNode)==null?void 0:i.querySelector("a"))==null||s.classList.add(C))}n.remove(),e.querySelectorAll("li ul li:first-child").forEach(t=>{t.remove()})})();
