"use strict";(function(){var O;if(window.gsap===void 0){console.error("Socks UI: Couldn't find GSAP. Please make sure to include GSAP in your project before using Socks UI");return}const k='s-toc="list"',a='s-toc="content"',T='s-toc="text"',q="s-active",E="s-toc-selector",A="s-toc-offset",v="s-toc-active";let l="h2",d="h3";const e=document.querySelector(`[${k}]`);if(!e){console.error("Socks UI: Couldn't find any list with the attribute [s-toc='list']");return}if(e.tagName!=="UL"&&e.tagName!=="OL"){console.error("Socks UI: The element with the attribute [s-toc='list'] must be a list");return}const o=((O=e.getAttribute(E))==null?void 0:O.split(","))||[];if((o==null?void 0:o.length)>0&&(l=o[0],o.length>1&&(d=o[1]),o.length>2)){console.error("Socks UI: The custom selector can only have one comma");return}const n=e.querySelector("li");if(!n){console.error("Socks UI: Couldn't find a list item template");return}if(n.querySelector(`[${T}]`)===null){console.error("Socks UI: Couldn't find any text node with the attribute [s-toc='text']");return}const g=n.querySelector("li")||null,f=document.querySelector(`[${a}]`);if(!f){console.error("Socks UI: Couldn't find any content with the attribute [s-toc='content']");return}const m=e.getAttribute(A)||"80px",y=document.createElement("style");y.textContent=`
  [${a}] ${l}::before, [${a}] ${d}::before { 
    content: '';
    display: block; 
    position: relative; 
    width: 0; 
    height: ${m}; 
    margin-top: -${m};
  } 
  `,document.head.appendChild(y);const h=e.getAttribute(v)||q,I=g?`${l}, ${d}`:l,b=f.querySelectorAll(I);let S=[];b.forEach((t,p)=>{const c=t.tagName===l.toUpperCase()?1:2;let i=g||n;c===1&&(i=n);const s=t.textContent;if(!s)return;t.id="s-"+s.replace(/\s/g,"-").toLowerCase().replace(/[^a-z0-9-]/g,"");const r=i.cloneNode(!0),U=r.querySelector(`[${T}]`);if(!U)return;U.textContent=s;const C=r.querySelector("a");if(C){if(C.href=`#${t.id}`,c===1)S.push(r),e.appendChild(r);else{const u=S[S.length-1];if(!u)return;const $=u.querySelector("ul");if(!$)return;$.appendChild(r)}ScrollTrigger.create({trigger:t,start:"top 35%",endTrigger:b[p+1]??f,end:"top 35%",onToggle:({isActive:u})=>{u&&x(C,c)}})}});function x(t,p){var c,i,s;e==null||e.querySelectorAll("a").forEach(r=>r.classList.remove(h)),t.classList.add(h),p!==1&&((s=(i=(c=t.closest("ul"))==null?void 0:c.parentNode)==null?void 0:i.querySelector("a"))==null||s.classList.add(h))}n.remove(),e.querySelectorAll("li ul li:first-child").forEach(t=>{t.remove()})})();
