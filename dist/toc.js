"use strict";(function(){var O;if(window.gsap===void 0){console.error("Socks UI: Couldn't find GSAP. Please make sure to include GSAP in your project before using Socks UI");return}const k='s-toc="list"',d='s-toc="content"',g='s-toc="text"',q="s-active",E="s-toc-selector",A="s-toc-offset",v="s-toc-active";let l="h2",f="h3";const e=document.querySelector(`[${k}]`);if(!e){console.error("Socks UI: Couldn't find any list with the attribute [s-toc='list']");return}if(e.tagName!=="UL"&&e.tagName!=="OL"){console.error("Socks UI: The element with the attribute [s-toc='list'] must be a list");return}const o=((O=e.getAttribute(E))==null?void 0:O.split(","))||[];if((o==null?void 0:o.length)>0&&(l=o[0],o.length>1&&(f=o[1]),o.length>2)){console.error("Socks UI: The custom selector can only have one comma");return}const n=e.querySelector("li");if(!n){console.error("Socks UI: Couldn't find a list item template");return}if(n.querySelector(`[${g}]`)===null){console.error("Socks UI: Couldn't find any text node with the attribute [s-toc='text']");return}const m=n.querySelector("li")||null,h=document.querySelector(`[${d}]`);if(!h){console.error("Socks UI: Couldn't find any content with the attribute [s-toc='content']");return}const y=e.getAttribute(A)||"80px",b=document.createElement("style");b.textContent=`
  [${d}] ${l}::before, [${d}] ${f}::before { 
    content: '';
    display: block; 
    position: relative; 
    width: 0; 
    height: ${y}; 
    margin-top: -${y};
  } 
  `,document.head.appendChild(b);const S=e.getAttribute(v)||q,I=m?`${l}, ${f}`:l,p=h.querySelectorAll(I);let C=[];p.forEach((t,u)=>{const c=t.tagName===l.toUpperCase()?1:2;let i=m||n;c===1&&(i=n);const s=t.textContent;if(!s)return;t.id="s-"+s.replace(/\s/g,"-").toLowerCase().replace(/[^a-z0-9-]/g,"");const r=i.cloneNode(!0),U=r.querySelector(`[${g}]`);if(!U)return;U.textContent=s;const T=r.querySelector("a");if(T){if(T.href=`#${t.id}`,c===1)C.push(r),e.appendChild(r);else{const a=C[C.length-1];if(!a)return;const $=a.querySelector("ul");if(!$)return;$.appendChild(r)}ScrollTrigger.create({trigger:t,start:"top 35%",endTrigger:p[u+1]??h,end:p[u+1]?"top 35%":"bottom 50%",onToggle:({isActive:a})=>{a&&x(T,c)}})}});function x(t,u){var c,i,s;e==null||e.querySelectorAll("a").forEach(r=>r.classList.remove(S)),t.classList.add(S),u!==1&&((s=(i=(c=t.closest("ul"))==null?void 0:c.parentNode)==null?void 0:i.querySelector("a"))==null||s.classList.add(S))}n.remove(),e.querySelectorAll("li ul li:first-child").forEach(t=>{t.remove()})})();
