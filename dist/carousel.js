"use strict";var At=Object.defineProperty;var bt=(l,n,u)=>n in l?At(l,n,{enumerable:!0,configurable:!0,writable:!0,value:u}):l[n]=u;var e=(l,n,u)=>(bt(l,typeof n!="symbol"?n+"":n,u),u),G=(l,n,u)=>{if(!n.has(l))throw TypeError("Cannot "+u)};var r=(l,n,u)=>(G(l,n,"read from private field"),u?u.call(l):n.get(l)),h=(l,n,u)=>{if(n.has(l))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(l):n.set(l,u)},K=(l,n,u,P)=>(G(l,n,"write to private field"),P?P.call(l,u):n.set(l,u),u);var o=(l,n,u)=>(G(l,n,"access private method"),u);(function(){var E,m,R,et,g,S,x,F,X,it,D,rt,f,A,p,T,$,b,C,L,k,O,ot,N,at,I,B,V,U,nt,v,w,z,ht,y,_,lt;if(window.gsap===void 0){console.error("Socks UI: Couldn't find GSAP. Please make sure to include GSAP in your project before using Socks UI");return}const l='s-carousel="wrapper"',n='s-carousel="root"',u='s-carousel="slide"',P='s-carousel="next"',ut='s-carousel="prev"',dt='s-carousel="dot"',ct='s-carousel="pause"',pt="s-threshold",q="s-active-class",Y="s-dragging-class",M="s-disabled-class",W="s-paused-class",gt="s-autoplay",j="s-duration",Q="s-ease",J="s-loop",Z="s-slides-to-scroll",vt=document.querySelectorAll(`[${l}]`);class ft{constructor(t){h(this,R);h(this,g);h(this,x);h(this,X);h(this,D);h(this,T);h(this,b);h(this,L);h(this,O);h(this,N);h(this,B);h(this,U);h(this,z);h(this,_);e(this,"eventListeners",{});e(this,"wrapper");e(this,"root");e(this,"slides");e(this,"nextButton");e(this,"prevButton");e(this,"dots");e(this,"pauseButton");e(this,"isPaused");e(this,"autoplayInterval");e(this,"autoplayTimeoutId");e(this,"currentIndex");e(this,"dragging");e(this,"startX");e(this,"currentX");e(this,"dragX");e(this,"threshold");e(this,"activeClass");e(this,"draggingClass");e(this,"disabledClass");e(this,"pausedClass");e(this,"isEnabled");h(this,E,void 0);h(this,m,void 0);e(this,"slidePositions");e(this,"duration");e(this,"ease");e(this,"loop");e(this,"resizeTimeout",null);e(this,"liveRegion");e(this,"slidesToScroll");e(this,"autoplayStartTime",null);e(this,"autoplayRemainingTime",null);e(this,"isHorizontalDrag",!1);e(this,"dragLocked",!1);e(this,"startY",0);h(this,f,t=>{this.dragging=!0,this.startX="touches"in t?t.touches[0].clientX:t.clientX,this.startY="touches"in t?t.touches[0].clientY:t.clientY,this.currentX=gsap.getProperty(this.root,"x"),this.isHorizontalDrag=!1,this.dragLocked=!1,this.wrapper.classList.add(this.draggingClass),this.autoplayInterval!==null&&!this.isPaused&&this.stopAutoplay(),o(this,g,S).call(this,"dragstart",{startX:this.startX,currentX:this.currentX})});h(this,A,t=>{if(!this.dragging)return;const s="touches"in t?t.touches[0].clientX:t.clientX,i="touches"in t?t.touches[0].clientY:t.clientY,a=s-this.startX,c=i-this.startY;if(!this.dragLocked){const d=Math.abs(a),st=Math.abs(c);(d>5||st>5)&&(this.isHorizontalDrag=d>st,this.dragLocked=!0)}if(this.isHorizontalDrag){t.preventDefault();const d=this.currentX+a;this.dragX=a,r(this,E).call(this,d)}});h(this,p,()=>{if(!this.dragging)return;this.dragging=!1,this.wrapper.classList.remove(this.draggingClass);const t=this.slides[0].offsetWidth,s=Math.abs(this.dragX)/t;requestAnimationFrame(()=>{let i=this.currentIndex;if(s>this.threshold){const a=this.dragX>0?-1:1;i=Math.max(0,Math.min(this.slides.length-this.slidesToScroll,this.currentIndex+a))}i!==this.currentIndex&&(this.currentIndex=i,o(this,b,C).call(this),this.loop||o(this,L,k).call(this)),this.goToSlide(i),this.dragX=0,this.autoplayInterval!==null&&this.isPaused&&this.startAutoplay(),o(this,g,S).call(this,"dragend",{dragDistance:this.dragX,currentIndex:this.currentIndex})})});e(this,"goToNext",()=>{var t;((t=this.nextButton)==null?void 0:t.getAttribute("aria-disabled"))!=="true"&&(this.loop&&this.currentIndex===this.slides.length-this.slidesToScroll?this.goToSlide(0):this.goToSlide(this.currentIndex+1))});e(this,"goToPrev",()=>{var t;((t=this.prevButton)==null?void 0:t.getAttribute("aria-disabled"))!=="true"&&(this.loop&&this.currentIndex===0?this.goToSlide(this.slides.length-this.slidesToScroll):this.goToSlide(this.currentIndex-this.slidesToScroll))});h(this,I,t=>{switch(t.key){case"ArrowLeft":t.preventDefault(),this.goToPrev();break;case"ArrowRight":t.preventDefault(),this.goToNext();break}});h(this,v,t=>{(t.key===" "||t.key==="Enter")&&(t.preventDefault(),t.target.click())});h(this,w,(t,s)=>{(t.key===" "||t.key==="Enter")&&(t.preventDefault(),this.goToSlide(s))});h(this,y,()=>{var t,s,i,a,c,d;this.isPaused=!this.isPaused,this.isPaused?(this.stopAutoplay(),(t=this.pauseButton)==null||t.setAttribute("aria-label","Play carousel"),(s=this.pauseButton)==null||s.setAttribute("aria-pressed","true"),(i=this.pauseButton)==null||i.classList.add(this.pausedClass)):(this.startAutoplay(),(a=this.pauseButton)==null||a.setAttribute("aria-label","Pause carousel"),(c=this.pauseButton)==null||c.setAttribute("aria-pressed","false"),(d=this.pauseButton)==null||d.classList.remove(this.pausedClass))});this.wrapper=t,this.root=t.querySelector(`[${n}]`),this.slides=Array.from(t.querySelectorAll(`[${u}]`)),this.nextButton=t.querySelector(`[${P}]`),this.prevButton=t.querySelector(`[${ut}]`),this.pauseButton=t.querySelector(`[${ct}]`),this.dots=[],this.currentIndex=0,this.dragging=!1,this.startX=0,this.currentX=0,this.dragX=0,this.threshold=.3,this.autoplayInterval=null,this.autoplayTimeoutId=null,this.activeClass=t.getAttribute(q)?t.getAttribute(q):"s-active",this.draggingClass=t.getAttribute(Y)?t.getAttribute(Y):"s-dragging",this.disabledClass=t.getAttribute(M)?t.getAttribute(M):"s-disabled",this.pausedClass=t.getAttribute(W)?t.getAttribute(W):"s-paused",this.isEnabled=!0,K(this,E,gsap.quickSetter(this.root,"x","px")),this.duration=t.getAttribute(j)?parseFloat(t.getAttribute(j)):.5,this.ease=t.getAttribute(Q)?t.getAttribute(Q):"power2.out",K(this,m,o(this,R,et).call(this)),this.slidePositions=[],this.loop=t.getAttribute(J)?t.getAttribute(J)==="true":!1,this.liveRegion=o(this,O,ot).call(this),this.isPaused=!1,this.slidesToScroll=t.getAttribute(Z)?parseInt(t.getAttribute(Z)):1,this.handleResize=this.handleResize.bind(this),this.init()}on(t,s){this.eventListeners[t]||(this.eventListeners[t]=[]),this.eventListeners[t].push(s)}off(t,s){this.eventListeners[t]&&(this.eventListeners[t]=this.eventListeners[t].filter(i=>i!==s))}init(){o(this,X,it).call(this),o(this,T,$).call(this),o(this,D,rt).call(this),o(this,b,C).call(this),o(this,z,ht).call(this),this.autoplayInterval!==null&&this.isEnabled&&(this.startAutoplay(),this.loop=!0),o(this,L,k).call(this),o(this,x,F).call(this),o(this,N,at).call(this),o(this,B,V).call(this),window.addEventListener("resize",this.handleResize),o(this,g,S).call(this,"init",{carousel:this})}handleResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(()=>{o(this,T,$).call(this),this.resetSlider()},250)}goToSlide(t,s=!0){const i=this.currentIndex;t<0&&(t=0),t>=this.slides.length&&(t=this.slides.length-1);const a=this.slidePositions[t];s?r(this,m).call(this,a):r(this,E).call(this,a),this.currentIndex=t,o(this,b,C).call(this),this.loop||o(this,L,k).call(this),this.autoplayInterval!==null&&(this.stopAutoplay(),this.startAutoplay()),o(this,B,V).call(this),o(this,U,nt).call(this),o(this,g,S).call(this,"change",{currentIndex:this.currentIndex,previousIndex:i})}startAutoplay(){if(this.isPaused)return;this.stopAutoplay();const t=this.autoplayRemainingTime!==null?this.autoplayRemainingTime:this.autoplayInterval??5e3;this.autoplayStartTime=Date.now(),this.autoplayTimeoutId=window.setTimeout(()=>{this.goToNext(),this.autoplayRemainingTime=null,this.startAutoplay()},t)}stopAutoplay(){if(this.autoplayTimeoutId!==null&&(window.clearTimeout(this.autoplayTimeoutId),this.autoplayTimeoutId=null,this.autoplayStartTime!==null)){const t=Date.now()-this.autoplayStartTime;this.autoplayRemainingTime=Math.max(0,(this.autoplayInterval??5e3)-t)}}resetSlider(){this.isEnabled&&(this.goToSlide(this.currentIndex,!1),o(this,b,C).call(this),o(this,L,k).call(this),this.autoplayInterval!==null&&(this.stopAutoplay(),this.startAutoplay()))}removeEventListeners(){this.root.removeEventListener("mousedown",r(this,f)),this.root.removeEventListener("mouseup",r(this,p)),this.root.removeEventListener("mousemove",r(this,A)),this.root.removeEventListener("touchstart",r(this,f)),this.root.removeEventListener("touchend",r(this,p)),this.root.removeEventListener("touchcancel",r(this,p)),this.root.removeEventListener("touchmove",r(this,A)),this.nextButton&&(this.nextButton.removeEventListener("click",this.goToNext),this.nextButton.nodeName!=="BUTTON"&&(this.nextButton.removeAttribute("tabindex"),this.nextButton.removeEventListener("keydown",r(this,v)))),this.pauseButton&&this.autoplayInterval!==null&&(this.pauseButton.removeEventListener("click",r(this,y)),this.pauseButton.nodeName!=="BUTTON"&&(this.pauseButton.removeAttribute("tabindex"),this.pauseButton.removeEventListener("keydown",r(this,v)))),this.dots.forEach((t,s)=>{t.removeEventListener("click",()=>this.goToSlide(s)),t.removeEventListener("keydown",i=>r(this,w).call(this,i,s))})}enable(){this.isEnabled||(this.isEnabled=!0,o(this,x,F).call(this),o(this,T,$).call(this),this.resetSlider(),this.autoplayInterval!==null&&this.startAutoplay())}disable(){this.isEnabled&&(this.isEnabled=!1,this.removeEventListeners(),this.stopAutoplay(),o(this,_,lt).call(this))}destroy(){this.removeEventListeners(),this.stopAutoplay(),this.resizeTimeout&&clearTimeout(this.resizeTimeout),window.removeEventListener("resize",this.handleResize),this.root.removeEventListener("keydown",r(this,I)),this.wrapper.removeChild(this.liveRegion),this.pauseButton&&this.autoplayInterval!==null&&this.pauseButton.removeEventListener("click",r(this,y)),o(this,g,S).call(this,"destroy",{carousel:this})}}E=new WeakMap,m=new WeakMap,R=new WeakSet,et=function(){let t=gsap.quickTo(this.root,"x",{duration:this.duration,ease:this.ease});return s=>{t(s),t=gsap.quickTo(this.root,"x",{duration:this.duration,ease:this.ease})}},g=new WeakSet,S=function(t,s={}){this.eventListeners[t]&&this.eventListeners[t].forEach(a=>a(s));const i=new CustomEvent(`socks:carousel:${t}`,{bubbles:!0,detail:s});this.wrapper.dispatchEvent(i)},x=new WeakSet,F=function(){this.isEnabled&&(this.root.addEventListener("mousedown",r(this,f)),this.root.addEventListener("mouseup",r(this,p)),this.root.addEventListener("mousemove",r(this,A)),this.root.addEventListener("touchstart",r(this,f)),this.root.addEventListener("touchend",r(this,p)),this.root.addEventListener("touchcancel",r(this,p)),this.root.addEventListener("touchmove",r(this,A)),this.nextButton&&(this.nextButton.addEventListener("click",this.goToNext),this.nextButton.nodeName!=="BUTTON"&&(this.nextButton.setAttribute("tabindex","0"),this.nextButton.addEventListener("keydown",r(this,v)))),this.prevButton&&(this.prevButton.addEventListener("click",this.goToPrev),this.prevButton.nodeName!=="BUTTON"&&(this.prevButton.setAttribute("tabindex","0"),this.prevButton.addEventListener("keydown",r(this,v)))),this.dots.forEach((t,s)=>{t.addEventListener("click",()=>{s!==this.currentIndex&&this.goToSlide(s)}),t.addEventListener("keydown",i=>{s!==this.currentIndex&&r(this,w).call(this,i,s)})}),this.pauseButton&&this.autoplayInterval!==null&&this.pauseButton.addEventListener("click",r(this,y)))},X=new WeakSet,it=function(){const t=this.wrapper.getAttribute(pt);if(t){const d=parseFloat(t);!isNaN(d)&&d>=.1&&d<=1&&(this.threshold=d)}const s=this.wrapper.getAttribute(q);s&&(this.activeClass=s);const i=this.wrapper.getAttribute(Y);i&&(this.draggingClass=i);const a=this.wrapper.getAttribute(M);a&&(this.disabledClass=a);const c=this.wrapper.getAttribute(gt);if(c){const d=parseInt(c);!isNaN(d)&&d>0&&(this.autoplayInterval=d*1e3,this.pauseButton||console.error('Socks UI Carousel: Autoplay is enabled but no pause button found. Add an element with s-carousel="pause" attribute for accessibility.'))}},D=new WeakSet,rt=function(){const t=this.wrapper.querySelector(`[${dt}]`);if(!t)return;const s=t.parentElement;s&&(t.classList.remove(this.activeClass),s.innerHTML="",this.slidePositions.forEach((i,a)=>{const c=t.cloneNode(!0);c.setAttribute("aria-label",`Go to slide ${a+1}`),c.setAttribute("role","button"),c.setAttribute("tabindex","0"),s.appendChild(c),this.dots.push(c)}))},f=new WeakMap,A=new WeakMap,p=new WeakMap,T=new WeakSet,$=function(){this.slidePositions=[0];let t=0;for(let s=this.slidesToScroll;s<this.slides.length;s+=this.slidesToScroll)t-=this.slides[s].offsetLeft-this.slides[s-this.slidesToScroll].offsetLeft,this.slidePositions.push(t)},b=new WeakSet,C=function(){const t=Array.from({length:this.slidesToScroll},(s,i)=>this.currentIndex*this.slidesToScroll+i);this.slides.forEach((s,i)=>{const a=t.includes(i);s.classList.toggle(this.activeClass,a),s.setAttribute("aria-hidden",(!a).toString())}),this.dots.forEach((s,i)=>{s.classList.toggle(this.activeClass,i===this.currentIndex)})},L=new WeakSet,k=function(){const t=(s,i,a)=>{s&&(s.setAttribute("aria-label",i),s.nodeName!=="BUTTON"&&(s.setAttribute("role","button"),s.setAttribute("tabindex","0")),this.loop?(s.classList.remove(this.disabledClass),s.removeAttribute("aria-disabled"),s.removeAttribute("tabindex")):(s.setAttribute("aria-disabled",a.toString()),s.classList.toggle(this.disabledClass,a),a?s.setAttribute("tabindex","-1"):s.removeAttribute("tabindex")))};t(this.prevButton,"Previous slide",this.currentIndex===0),t(this.nextButton,"Next slide",this.currentIndex===this.slides.length-this.slidesToScroll)},O=new WeakSet,ot=function(){const t=document.createElement("div");return t.setAttribute("aria-live","polite"),t.setAttribute("aria-atomic","true"),t.classList.add("s-carousel-live-region"),t.style.position="absolute",t.style.width="1px",t.style.height="1px",t.style.overflow="hidden",t.style.clip="rect(0 0 0 0)",this.wrapper.appendChild(t),t},N=new WeakSet,at=function(){this.root.setAttribute("tabindex","0"),this.root.addEventListener("keydown",r(this,I))},I=new WeakMap,B=new WeakSet,V=function(){this.root.setAttribute("aria-roledescription","carousel"),this.slides.forEach((t,s)=>{t.setAttribute("role","group"),t.setAttribute("aria-roledescription","slide"),t.setAttribute("aria-label",`${s+1} of ${this.slides.length}`)})},U=new WeakSet,nt=function(){const t=this.slides[this.currentIndex],s=this.currentIndex+1,i=this.slides.length,a=t.getAttribute("aria-label")||`Slide ${s}`;this.liveRegion.textContent=`${a}, ${s} of ${i}`},v=new WeakMap,w=new WeakMap,z=new WeakSet,ht=function(){this.pauseButton&&this.autoplayInterval!==null&&(this.pauseButton.addEventListener("click",r(this,y)),this.pauseButton.nodeName!=="BUTTON"&&(this.pauseButton.setAttribute("tabindex","0"),this.pauseButton.addEventListener("keydown",r(this,v))),this.pauseButton.setAttribute("aria-label","Pause carousel"))},y=new WeakMap,_=new WeakSet,lt=function(){this.root.style.transform="",this.slides.forEach(t=>t.classList.remove(this.activeClass)),this.dots.forEach(t=>t.classList.remove(this.activeClass)),this.currentIndex=0};const tt={};vt.forEach((H,t)=>{const s=new ft(H),i=H.id||`carousel-${t}`;tt[i]=s}),window.socks={...window.socks,carousel:tt}})();
